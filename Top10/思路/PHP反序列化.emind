{"nodeData":{"id":"8830047d6a160288","topic":"PHP反序列化","root":true,"children":[{"topic":"基础","id":"88301e6ff47f8a38","direction":0,"children":[{"topic":"序列化格式","id":"883020436112297e","children":[{"topic":"O:4:''info\":2:{s:4:''name;i:2:\"19\";}","id":"88302218ecd0a8df"},{"topic":"O代表对象,i代表数组,4为对象长度.\"info\"为对象名称,2代表变量个数,s代表string,i代表int,4,为变量名长度\"name\"为变量名","id":"8830232e53ac534b"},{"topic":"S:大写S表示16进制","id":"8830253fea8aa3cb"}]},{"topic":"魔术方法","id":"88302094d9a6aad9","children":[{"topic":"_construct","id":"883035fad779596f","children":[{"topic":"实例化对象调用","id":"88303ea0e70504b8"}]},{"topic":"_destruct","id":"883036be54e0ad43","children":[{"topic":"销毁对象时调用","id":"88303f9057da424a"}]},{"topic":"_sleep","id":"8830376dded1209a","children":[{"topic":"serialize之前被调用","id":"883040346e2b233d"}]},{"topic":"_wakeup","id":"88303803d82e7f44","children":[{"topic":"在unserialize前调用","id":"883040e55fce2bac"}]},{"topic":"_invoke","id":"883038d9fc995574","children":[{"topic":"将对象当作函数使用,触发invoke","id":"8830418b67df62ac","children":[{"topic":"$a=('xiaodi',31,''男)","id":"88304486efaf12c6"}]}]},{"topic":"_toString","id":"883039b0570cf287","children":[{"topic":"对象类被当作字符转时,执行","id":"883042537b5393e6","children":[{"topic":"echo $a(a是创建的对象)","id":"88304740d8cccd78"}]}]},{"topic":"_call","id":"88303a4fd6fe117a","children":[{"topic":"调用类中不存在的方法时调用","id":"88304917dfdc0931"}]},{"topic":"_get","id":"88303b1a5f962ddc","children":[{"topic":"调用类中不存在的成员变量时调用","id":"88304b4e78fed55f"}]},{"topic":"_set","id":"88303bba5d54dc48","children":[{"topic":"设置不存在的属性时或无法访问(私有)的属性的时候调用","id":"88304c2b52b77d8b"}]},{"topic":"_isset","id":"88303cc55eb43458","children":[{"topic":"检测对象的某个属性是否存在时执行此函数和当对不可访问属性调用isset()或empty()时,_isset()会被调用","id":"88304e106ef25e89"}]},{"topic":"_unset","id":"88303d9c5588574c","children":[{"topic":"在不可访问的属性上使用unset()时触发,销毁对象的某个属性时执行","id":"88305097fcae1b21"}]}]},{"topic":"序列化数据显示","id":"883020e56aea88a4","children":[{"topic":"public","id":"88302b9669fba3e1","children":[{"topic":"序列化格式成员名","id":"88303138551d93d4"}]},{"topic":"protect","id":"88302ee85e780d1e","children":[{"topic":"序列化格式%00*%00成员名","id":"883032f8529ff32d"}]},{"topic":"private","id":"88302fc9610677af","children":[{"topic":"序列化格式%00类名%00成员名","id":"88303362527160cb"}]}]}]},{"topic":"bypass","id":"883052dcea316ff0","children":[{"topic":"绕过漏洞CVE-2016-7124(_wakeup)(php 5 <5.6.25&&php 7<7.0.10)","id":"883054227b13841b","children":[{"topic":"当序列化字符中表示对象属性个数的值大于真实属性的个数时会绕过_wakeup执行","id":"883058d0dbdfb115"}]},{"topic":"php7.1+对传入类的属性并不敏感,可以传入不同属性","id":"88305a366000c821"},{"topic":"字符串逃逸","id":"88305d2bec85880e","children":[{"topic":"字符增加","id":"88305dd6d18e715a","children":[{"topic":"=","id":"88306cd05d6667b9"}]},{"topic":"字符减少","id":"88305e24e7236a54"}]},{"topic":"原生类","id":"883060aad7f4c5e2","children":[{"topic":"利用魔术方法的内置类,pop修改","id":"883061b8e6fe346c","children":[{"topic":"没有写魔术方法时使用","id":"883062f2e453d582"},{"topic":"使用魔术方法的原生类去使用","id":"883064a66049994f"},{"topic":"获取魔术方法的原生类","id":"8830655b6187418b"}]},{"topic":"$a=new Exception(\"<script>alert('xxxxx')</script>\")","id":"8830627b63b93b05"}]}]}]},"linkData":{},"direction":1}